/* -------------------------------------------------------------------------- */
/* SEARCH RESULTS
/* -------------------------------------------------------------------------- */
#islay-admin-search .search-results
  .product-category
    +icon-folder-open

  .product
    +icon-barcode

/* -------------------------------------------------------------------------- */
/* ORDER OVERVIEW, BILLING ETC.
/* -------------------------------------------------------------------------- */
#islay-shop-admin-orders,
#islay-shop-admin-order-processes
  .billing
    float: left

    .card-details
      +box-shadow(0 0.1em 0.3em 0.1em rgba(0,0,0,0.1))
      +border-radius(0.6em)
      +background-image(linear-gradient(white, $light-grey + 20))
      border: 0.1em solid $light-grey - 20
      text-transform: uppercase
      padding: 1.5em
      width: 17em
      float: left

    span
      float: left

    .type
      font-size: 1.3em
      margin-bottom: 2em

    .number
      font-size: 1.3em
      font-weight: bold
      white-space: nowrap
      width: 100%

    .name,
    .expiry
      margin: 1em 0 0 0

    .expiry
      float: right

  .tracking
    +clear-fix

  #displayTrackingReference
    clear: both
    font-size: 1.2em
    margin: 1rem 0 0 0
    padding-bottom: 0.5rem
    strong
      font-weight: bold
    a
      font-size: 0.83em
    .track-order
      margin-left: 1em

  #editTrackingReference label
    display: inline-block
    float: left
    margin-top: 0.75em
    margin-right: 1em

  #order_tracking_reference
    width: 12em
    font-size: 0.95em

  .flag
    +islay-text-shadow
    +border-radius(0.2em)
    background: rgba(0,0,0,0.1)
    display: inline-block
    padding: 0.2em 0.3em 0.1em
    text-transform: uppercase
    letter-spacing: 0.06em
    font-weight: 600
    margin-right: 0.33em

    &.gift-order
      background: #E78E68
      color: #FFF

/* -------------------------------------------------------------------------- */
/* ORDER OVERVIEW
/* -------------------------------------------------------------------------- */
#islay-shop-admin-orders.show
  .billing,
  .address,
  .order-overview
    margin: 1.5em 3em 0 0
    float: left

    h3
      font-size: 1em
      margin-top: 0

  .order-overview
    h3
      margin-top: 1.5em


  .billing,
    width: 20em

  .order-overview
    margin-left: 0
    li
      line-height: 1.2
      margin-bottom: 0.5em
      .key
        color: $dark-grey
        display: block
      .value
        font-size: 1.4em

  .address
    p
      line-height: 1.2
      font-size: 1.2em

    strong
      font-weight: bold

    .name
      display: inline-block
      margin-bottom: 0.6em

  tfoot
    tr:first-child
      th, td
        border-top: 0.1em solid $header-border-color

    th, td
      background: transparent

    th
      text-align: right
      font-weight: bold
      padding-right: 1em

  .gift-details,
  .shipping-instructions
    p
      margin-bottom: 0
    .key
      color: $dark-grey
      display: block
    .value
      font-size: 1.2em


  .order-progression
    +background-image($dimension-raised-subtle)
    +clear-fix
    background-color: $very-light-grey
    clear: both
    padding: 0.5em 3.5em
    position: relative
    z-index: 1

    li
      background: right center no-repeat image-url('islay_shop/admin/progression_entry_standard.png')
      border: 1px solid #D5DAE1
      border-width: 1px 0
      display: inline-block
      margin: 0 0 0 -3em
      padding: 0.65em 3em 0.45em 3em
      position: relative

      @for $i from 1 through 10
        &:nth-child(#{10 - $i})
          z-index: $i

      &:first-child
        +border-radius(0.3em 0 0 0.3em)
        border-left-width: 1px
        padding-left: 1em

      &:last-child
        +border-radius(0 0.3em 0.3em 0)
        background-position: left center
        border-right-width: 1px
        padding-right: 1.5em

      &.done
        +icon-ok
          padding-right: 0.3em

      &.current
        +islay-text-shadow
        background-image: image-url('islay_shop/admin/progression_entry_current.png')
        color: #FFF

/* -------------------------------------------------------------------------- */
/* ORDER - REVIEW BILLING
/* -------------------------------------------------------------------------- */
#islay-shop-admin-order-processes.review-billing
  #content
    width: 88%
    padding: 3em 4%

  .totals
    ul
      font-size: 1.5em
      margin-top: 0.6em
      width: 20em
      float: left

    li
      width: 100%
      margin-bottom: 0
      float: left

    .key
      text-transform: uppercase
      font-weight: bold
      margin-bottom: 0.6em
      width: 10em
      float: left

    .value
      width: 8em !important
      float: left

/* -------------------------------------------------------------------------- */
/* ORDER PROCESSING
/* -------------------------------------------------------------------------- */
#islay-shop-admin-order-processes.packing .items
  border: 0.1em solid $light-grey
  border-top-width: 0
  background: $light-grey + 25
  margin-top: 0.6em
  width: 100%
  float: left

  li
    border-top: 0.1em solid $light-grey
    padding: 0.7em 0
    width: 100%
    float: left

  a
    margin-left: 0.8em
    float: left

  span
    margin-right: 1em
    float: right

/* -------------------------------------------------------------------------- */
/* PRODUCT OVERVIEW
/* -------------------------------------------------------------------------- */
#islay-shop-admin-products.show
  .overview
    padding-top: 3em

  .asset-preview
    min-height: 17em

  .adjust
    width: 11em

    .button
      float: right

  .product-description
    .key-value
      width: 100%

    li
      border-bottom: 0.1em solid $light-grey
      margin-bottom: 0.3em !important

    .desc
      .key,
      .value
        width: 100%

      p
        max-width: 40em

  #product-skus
    ul
      margin: -2em 2% 0 0
      float: right

    li, a
      float: left

    a
      margin-left: 1em

/* -------------------------------------------------------------------------- */
/* SKU EDITING
/* -------------------------------------------------------------------------- */
.islay-shop-sku-pricing
  position: relative

  table
    border: 0.1em solid $header-border-color
    margin-bottom: 1.5em

  td
    background-color: white !important
    border-bottom: 0.1em solid $light-grey + 15

  th.current,
  th.volume,
  th.price,
  th.expire
    width: 4em

  td.volume input
    width: 3em

  td.price input
    width: 5em

  .dates .time
    display: inline-block

  tr.disabled
    td
      background: $light-grey + 25 !important

    .indicator
      color: $mid-grey
      background: $light-grey

  // Reposition the booleans slightly
  .boolean
    margin-top: 0.5em

  // Tweak the indicators so they look better next to inputs
  .indicator
    padding: 0.65em 0.8em

  // make the time indicators a bit nicer
  .to
    padding: 0.65em 0.4em
    display: inline-block

  .time
    border: 0.1em solid $light-grey
    color: inherit
    background: transparent
    padding: 0.63em 0.8em
    display: inline-block
    float: none

  .controls
    margin-bottom: 1em
    width: 100%
    float: left

    button
      margin: 0

    .button
      margin-right: 0.5em

  // Default field margins are not needed
  .field
    margin-bottom: 0 !important

  // Only show errors on hover
  .errored
    position: relative

    span.error
      position: absolute
      top: 2.3em
      margin-left: 0
      background: $error-color
      +border-radius(0.2em)
      min-width: 8em
      padding-left: 0.6em
      display: none

    &:hover span.error
      display: block

  // When folded, hide the dates
  table.folded
    .mode
      border-left-color: $header-border-color

    .historical,
    .dates,
    th.current,
    td.current
      display: none


/* -------------------------------------------------------------------------- */
/* PROMOTIONS
/* -------------------------------------------------------------------------- */
.promotion-effects,
.promotion-conditions

  .field
    display: none

  .condition-toggle .field,
  .effect-toggle .field,
  .active .field
    display: inline-block

  legend.large
    text-transform: none !important
    font-size: 1.6em
    margin-top: 0.4em

  fieldset
    position: relative

    legend
      +text-shadow(none!important)
      margin-left: 10em
      margin-bottom: 0.2em!important

    .condition-contents,
    .effect-contents
      margin-left: 10em

  .condition-toggle,
  .effect-toggle
    position: absolute
    left: 0
    top: 0
    width: 8em
    padding: 1em

  .first-inline label
    position: absolute
    left: -1000em

  .select2-container
    width: 18em

  .summary
    padding-top: 0!important

  .help
    clear: both
    color: $dark-grey
    margin-top: -0.5em

    p
      max-width: 35em

    .islay-toggle
      border-top: 1px dotted #DDD
      padding-top: 1em
      margin-top: 0.5em

    .toggle
      margin-left: 1em
      position: absolute
      right: 1em
      top: 1em
      &:after
        color: lighten(desaturate($link-color, 20), 30)
        content: '\f059'
        display: inline-block
        font-family: FontAwesome
        font-size: 1.4em
        text-indent: none!important

      &:focus,
      &:hover
        text-decoration: none
        &:after
          color: lighten($link-color, 10)

      i,
      span
        display: none

    .extra
      width: 100%
      float: left

  fieldset.disabled
    legend,
    label,
    .help,
    .summary
      +opacity(0.4)

    .condition-contents,
    .effect-contents
      &:after
        background: #FDFBCE
        clear: both
        display: inline-block
        margin-bottom: 1em
        padding: 0.3em 0.6em

    .effect-contents
      &:after
        content: 'This effect requires a condition to be set first.'

    .condition-contents
      &:after
        content: 'Another condition prevents this condition being set.'

  fieldset.errored
    border-color: $error-color !important

    legend
      color: $error-color !important

  ul.errors
    margin: 0 1em

#promotion-config
  border-top-width: 0 !important
  padding-top: 0 !important

/* -------------------------------------------------------------------------- */
/* SUMMARY
/* Appears above tables and lists with summary counts
/* -------------------------------------------------------------------------- */
#summary
  border-bottom: 0.1em solid $light-grey
  float: left
  position: relative
  width: 100%

  button
    position: absolute
    right: 0.6em
    top: 0.6em
    z-index: 2

  li
    padding: 0.7em 0.3em 0.7em 0.7em
    margin-bottom: 0
    float: left

  .key
    +border-radius(0.2em 0 0 0.2em)
    +background-image($dimension-dished)
    background: $very-light-grey
    border: 0.1em solid $light-grey
    color: $dark-grey
    display: inline-block
    line-height: 1.3
    margin: 0
    padding: 0.37em 0.5em 0.27em 0.5em
    float: left

  .value
    +border-radius(0 0.2em 0.2em 0)
    min-width: 1.1em
    padding: 0.2em 0.55em 0.15em 0.55em

  .expiring .key
    font-weight: bold
    color: $negative-color



/* -------------------------------------------------------------------------- */
/* TABLES
/* Various table element
/* -------------------------------------------------------------------------- */
table
  .reference
    +border-radius(0.2em)
    background: rgba(0,0,0,0.1)
    padding: 0.2em 0.3em 0.1em
    float: right

  // A counter column on table rows
  .index
    text-align: center
    width: 0.75em

  td.index
    color: $mid-grey

  .flag
    +border-radius(0.2em)
    float: right
    background: rgba(#FFB066,0.5)
    padding: 0.2em 0.3em 0.1em
    margin-right: 0.33rem

  .summary
    font-size: 0.9em
    margin-top: 0.2em
    padding-top: 0!important
    color: $dark-grey
    margin-right: 10em
    line-height: 1.3
    display: block
    clear: both

  .product-category,
  .product
    &:before
      font-family: Icons
      font-size: 1.4em
      margin-right: 0.4em

  .product-category
    +icon-folder-close
      color: #888
      +small-icon-style

  .notes
    width: 50%

  .movement
    width: auto !important
    margin-right: 1em

    .dir
      font-size: 0.7em !important
      margin: 0.2em 0 0 0 !important
      float: none

  .expiry-warning
    +border-radius(0.3em)
    background-color: $negative-color
    color: #FFF
    font-weight: bold
    margin-left: 1em
    padding: 0.15em 0.45em
    vertical-align: -0.1em

  /* CHILD RECORDS */
  .children
    margin-left: 1.8em
    width: 100%
    float: left

    li
      border-right: 0.1em solid #DDD
      float: left
      padding-right: 0.4em
      margin: 0.5em 0.4em 0 0!important
      &:last-child
        border-right: 0

    a
      +border-radius(0.3em)
      display: inline-block
      padding: 0 0.4em

      &:hover
        background: $widget-hover-background-color
        color: $widget-hover-foreground-color
        text-decoration: none

  .children-disclosure
    text-align: center
    width: 1.2em
    cursor: pointer
    float: right

    &:before
      font-family: Icon

    +icon-chevron-right

    &.open
      +icon-chevron-down

/* -------------------------------------------------------------------------- */
/* NUMERIC VALUES
/* Should use our geometric typeface and be a little bigger.
/* -------------------------------------------------------------------------- */
.numeric
  font-family: $alternate-font-family
  letter-spacing: 0.1em
  font-size: 1.1em

/* -------------------------------------------------------------------------- */
/* PRICE POINTS
/* For the display of price points with a readable description.
/* -------------------------------------------------------------------------- */
.islay-shop-price-point
  +border-radius(0.2em)
  border: 0.1em solid rgba(0,0,0,0.2)
  padding: 0.4em 0.6em
  margin-right: 0.5em
  display: inline-block

  .price
    font-family: $alternate-font-family

/* -------------------------------------------------------------------------- */
/* REPORTS/GRAPHS
/* -------------------------------------------------------------------------- */
.series-graph
  width: 100%

.graph
  clear: both
  width: 100%
  height: 24rem
  margin: 1.5em 0 1em 0
  position: relative
  overflow: hidden

  .chart-canvas
    width: 100%
    height: 100%

  .graph-label
    +border-radius(0.2em)
    background: left center no-repeat image-url('islay_shop/admin/report-tag.png')
    font-family: $light-font-family
    color: white !important
    padding: 0 0 0 1.3em
    position: absolute

    &.flip
      background-position: right center
      padding: 0 1.3em 0 0
      margin-left: -3px

    &.regular
      margin-left: 3px

    span
      float: left !important

    span.value
      background: black
      font-size: 1.4em
      text-indent: 0
      padding: 0.3em 0.4em 0.3em 0 !important
      color: inherit
      margin: 0 !important
      width: auto

    span.date
      +border-radius(0 0.2em 0.2em 0)
      background: #404040
      padding: 0.7em 0.6em 0.6em 0.6em

    &.flip
      span.date
        +border-radius(0)

      span.value
        +border-radius(0.2em 0 0 0.2em)
        padding-left: 0.4em !important

.report-cell
  h3
    border-top-width: 0 !important

  table
    border-width: 0 !important

    caption
      +hide

    .sorted
      color: $highlight-color

      &:before
        font-family: icons
        margin-right: 0.4em
        font-size: 1.2em

      +icon-caret-down

    &.sortable thead th
      cursor: pointer

  .move-up,
  .move-down,
  .move-none
    &:before
      font-family: Icons
      margin: 0.4em 0.4em 0 0
      block-inline

  .move-up
    color: $positive-color
    +icon-arrow-up

  .move-down
    color: $negative-color
    +icon-arrow-down

  .move-none
    color: $dark-grey

    &:before
      content: "-"

  h4, h5
    border-bottom: 0.1em solid $light-grey
    border-top: 0.1em solid $light-grey
    text-indent: 1em
    padding: 0.6em 0
    font-weight: bold
    color: $highlight-color
    width: 100%
    float: left

  .value
    text-indent: 0.6em
    font-family: $light-font-family
    font-size: 3em
    color: $dark-grey
    margin: 0.2em 0 !important
    width: 100%
    float: left

    em
      font-size: 0.5em
      margin: 0.5em 1em 0 0
      float: right


#detailed-nav
  ul
    clear: both
    margin-top: 0.45em
    margin-bottom: 0.45em
  li
    margin-bottom: 0
  a
    display: block
    padding: 0.45em 1em 0.4em 1em


.segmented-control,
.date-selection .toggles,
.date-selection .month,
.date-selection .range
  > li
    +widget-gradient
    +input-border
    border-right-width: 0
    font-weight: bold
    padding: 0.45em 1em 0.4em 1em
    margin: 0.6em 0 !important
    min-height: 0 !important
    cursor: pointer
    clear: none
    float: none
    display: inline-block
    vertical-align: middle
    width: auto

    &:first-child
      +widget-border-radius(left)

    &:last-child
      border-right-width: $border-width
      +widget-border-radius(right)

    &.current
      +background-image(linear_gradient($light-grey - 10, $light-grey + 10))

.segmented-control
  border-bottom: 0.1em solid $light-grey
  background-color: $light-grey + 27
  text-align: center

.date-selection
  float: right

  ul
    margin-right: 1em
    float: left

  .month
    .display
      text-align: center
      font-weight: normal
      width: 5em
      position: relative

      span
        display: block

    .menu
      +input-border
      background: white
      width: 100%
      position: absolute
      left: 0
      top: 0

      .years,
      .months
        width: 100%
        float: left

      .years
        margin: 1em 0

        li
          width: 33.333333%
          float: left

      .months li
        border-bottom: 0.1em solid $light-grey
        padding: 0.45em 0
        width: 100%

        &:hover
          color: white
          background-color: $highlight-color

  .range
    .start,
    .end
      width: 8em
      position: relative

      span
        font-weight: normal

    .kalendae
      +border-radius(0.2em 0 0.2em 0.2em)
      border: 0.1em solid $widget-border-color
      margin: 0
      position: absolute
      top: 2.1em
      right: -0.1em

    .end
      +widget-border-radius(right)
      border-right-width: $border-width

    .go
      +widget-border-radius(left)
      margin-left: 0.5em !important
      padding-left: 0.5em
      padding-right: 0.5em

  .back,
  .forward,
  .backYear,
  .forwardYear
    font-family: Icons

  .back,
  .backYear
    +icon-caret-left

  .forward,
  .forwardYear
    +icon-caret-right

.date-controls
  position: absolute
  right: 1rem
  top: 3rem
  z-index: 2

.report-date
  margin-bottom: 0.6em

.report-date-el-controls
  +widget-gradient
  display: inline-block
  border: 0.1em solid $light-grey
  background-color: $light-grey + 27

.report-date-el-previous-month,
.report-date-el-next-month
  +unstyled-link
  +widget-gradient
  display: inline-block
  height: 2.5em
  line-height: 2.5em
  text-align: center
  text-decoration: none
  width: 2.5em

  &:before
    font-family: Icons
    text-indent: 0

  &:hover,
  &:focus
    background: #FFF
    text-decoration: none

.report-date-el-previous-month
  +widget-border-radius(left)
  +icon-caret-left
  border-right: 1px solid $light-grey

.report-date-el-next-month
  +widget-border-radius(right)
  +icon-caret-right
  border-left: 1px solid $light-grey
  margin-right: -0.075em

.report-date-el-current-month
  padding-left: 0.6em
.report-date-el-current-year
  padding-right: 0.6em

.report-cell.total
  p
    width: 100%
    float: left
    margin: 0 !important

  .total
    font-size: 4.5em
    font-family: $light-font-family
    margin: 0.3em 0 0 0 !important
    color: $dark-grey
    text-align: center

  .move-up,
  .move-down,
  .move-none
    text-align: center
    margin: 0.4em 0 1.2em 0 !important

  .average,
  .best,
  .since
    border-top: 0.1em dashed $light-grey
    font-size: 1.2em
    text-indent: 1em
    color: $mid-grey - 10
    padding: 0.6em 0

  .since
    margin-top: 1em !important

#detailed-nav

  ul
    clear: both
    margin: 0
    padding: 0
  
  li
    border-bottom: 1px solid $light-grey
    margin: 0
    padding: 0

    &:last-child
      border-bottom: 0

  a
    display: block
    padding: 0.6em

#top-ten
  th.rank,
  th.movement
    text-indent: -1000em

  td.rank
    font-weight: bold
    text-align: right
    width: 1em

  .movement
    width: 6em !important

  .move-up,
  .move-down,
  .move-new,
  .move-none
    float: left

  .move-new
    text-transform: uppercase
    font-weight: bold
    color: $positive-color

  .amount
    color: $mid-grey
    float: right

#product-listing .ancestors
  color: $dark-grey
  font-weight: bold

/* -------------------------------------------------------------------------- */
/* DASHBOARD
/* -------------------------------------------------------------------------- */

.dashboard-order-processing
  padding-top: 1em
  background: $alt-body-color
  &.with-processing-required
    background-color: $attention-color

  .notice
    +icon-shopping-cart
    margin-bottom: 0.5em!important

    &:before
      margin-right: 0.5em

#dashboard-order-counts
  background: #FFF
  padding: 1em 0
  width: 100%

  li
    +type-base
    display: inline-block
    margin-bottom: 0
    margin-left: 1em
    min-height: 0 !important

  a
    display: inline-block
    line-height: 1
    &:link,
    &:visited
      color: $link-color

  span
    display: inline-block
    line-height: 1
    vertical-align: baseline

    &.key,
    &.value
      min-width: 0!important
      margin: 0 0.3em 0 0!important

#dashboard-no-stock-alerts
  text-align: center
  color: $mid-grey
  margin-top: 1.2em
  width: 100%
  float: left

#dashboard-stock-alerts
  padding-top: 1.2em
  width: 100%
  float: left

  li
    width: 100%
    float: left

  .value
    margin-left: 1em
